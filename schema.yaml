openapi: 3.1.0
info:
  title: Mutant Supreme EN Actions
  version: "1.1.4"
servers:
  - url: https://fabricia-mutant-schema   # üîë URL simb√≥lica de base

paths:
  /mutate:
    post:
      operationId: mutateText
      summary: Muta√ß√£o completa de texto PT para EN
      description: Muta√ß√£o cinematogr√°fica para ingl√™s americano. Respeitar DNA e Linha do Tempo.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                textoPT:
                  type: string
                  description: Texto em portugu√™s para muta√ß√£o
                dna:
                  type: string
                  description: DNA dos personagens
                timeline:
                  type: string
                  description: Linha do tempo do epis√≥dio
              required:
                - textoPT
                - dna
                - timeline
      responses:
        "200":
          description: Vers√£o mutada com relat√≥rio
          content:
            application/json:
              schema:
                type: object
                properties:
                  roteiroEN:
                    type: string
                  aberturaAB:
                    type: array
                    items:
                      type: string
                  shorts:
                    type: array
                    items:
                      type: string
                  relatorioSENTRY:
                    type: string

  /revise:
    post:
      operationId: reviseText
      summary: Revis√£o cultural de trecho em ingl√™s
      description: Ajusta um trecho em ingl√™s para costumes e express√µes americanas e voz neural fluida.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                trechoEN:
                  type: string
                  description: Trecho em ingl√™s a ser revisado
              required:
                - trechoEN
      responses:
        "200":
          description: Trecho revisado
          content:
            application/json:
              schema:
                type: object
                properties:
                  trechoRevisado:
                    type: string

  /ctrtest:
    post:
      operationId: ctrTest
      summary: Teste de CTR para t√≠tulos e thumbnails
      description: Analisa t√≠tulo e thumbnail e prev√™ CTR prov√°vel, sugerindo melhorias.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                titulo:
                  type: string
                  description: T√≠tulo a ser testado
                thumbnailDescricao:
                  type: string
                  description: Descri√ß√£o ou conceito de thumbnail
              required:
                - titulo
                - thumbnailDescricao
      responses:
        "200":
          description: Relat√≥rio preditivo de CTR
          content:
            application/json:
              schema:
                type: object
                properties:
                  ctrPrevisto:
                    type: string
                  sugestaoMelhoria:
                    type: string

components:
  schemas: {}

x-rules:
  - url: "https://docs.google.com/document/d/1GR7d34JmC-LYyO0hpc-lPtgBBzuSMDntYlYTceOi6xY/export?format=txt"
